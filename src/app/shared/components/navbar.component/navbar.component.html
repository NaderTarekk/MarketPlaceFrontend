<!-- navbar.component.html -->

<header class="navbar">
  <div class="navbar-container">

    <!-- Logo -->
    <div class="logo">
      <!-- <span class="logo-text">Exclusive</span> -->
      <img src="noqta logo rm.png" alt="MarketPlace Logo"
        class="logo-image h-20 sm:h-23 lg:h-23 w-auto object-contain" />
    </div>

    <!-- Desktop Nav Links -->
    <nav class="nav-links desktop-nav">
      <a *ngFor="let link of navLinks" [href]="link.url" class="nav-link">{{ link.label|translate }}</a>
    </nav>

    <!-- Desktop Search Bar -->
    <div class="search-bar desktop-search">
      <input type="text" [placeholder]="i18n.t('search_placeholder')" [(ngModel)]="searchQuery"
        (keyup.enter)="onSearch()" />
      <button class="search-btn" (click)="onSearch()">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round">
          <circle cx="11" cy="11" r="7"></circle>
          <line x1="16.5" y1="16.5" x2="22" y2="22"></line>
        </svg>
      </button>
    </div>

    <!-- Desktop Icons + Language Switch -->
    <div class="nav-icons desktop-icons">
      <!-- Language Select -->
      <select [value]="currentLang" (change)="switchLang($event)" class="lang-select">
        <option value="ar">العربية</option>
        <option value="en">English</option>
      </select>

      <button class="icon-btn" title="Wishlist">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
          </path>
        </svg>
      </button>
      <button class="icon-btn cart-btn" title="Cart">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
      </button>
    </div>

    <!-- Hamburger (Mobile) -->
    <button class="hamburger" (click)="toggleMobileMenu()" aria-label="Toggle menu">
      <span [class.active]="isMobileMenuOpen"></span>
      <span [class.active]="isMobileMenuOpen"></span>
      <span [class.active]="isMobileMenuOpen"></span>
    </button>
  </div>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-overlay" [class.open]="isMobileMenuOpen" (click)="toggleMobileMenu()"></div>

  <!-- Mobile Drawer -->
  <aside class="mobile-menu" [class.open]="isMobileMenuOpen">
    <button class="mobile-close" (click)="toggleMobileMenu()">&times;</button>

    <!-- Mobile Language Select -->
    <select [value]="currentLang" (change)="switchLang($event)" class="lang-select mobile-lang-select">
      <option value="ar">العربية</option>
      <option value="en">English</option>
    </select>

    <nav class="mobile-nav-links">
      <a *ngFor="let link of navLinks" [href]="link.url" class="nav-link" (click)="toggleMobileMenu()">{{ link.label
        }}</a>
    </nav>
    <div class="mobile-search">
      <input type="text" [placeholder]="i18n.t('search_placeholder')" [(ngModel)]="searchQuery"
        (keyup.enter)="onSearch()" />
      <button class="search-btn" (click)="onSearch()">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"
          stroke-linecap="round">
          <circle cx="11" cy="11" r="7"></circle>
          <line x1="16.5" y1="16.5" x2="22" y2="22"></line>
        </svg>
      </button>
    </div>
    <div class="mobile-icons">
      <button class="icon-btn" title="Wishlist">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
          </path>
        </svg>
        <span>{{ i18n.t('wishlist') }}</span>
      </button>
      <button class="icon-btn cart-btn" title="Cart">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <span>{{ i18n.t('cart') }}</span>
      </button>
    </div>
  </aside>
</header>

<!-- ─── Lang Select Styles ─── -->
<style>
  .lang-select {
    appearance: none;
    -webkit-appearance: none;
    border: 1.5px solid #e5e7eb;
    border-radius: 8px;
    padding: 6px 32px 6px 12px;
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    background-color: #fff;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2.5' stroke-linecap='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    cursor: pointer;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .lang-select:hover {
    border-color: #9ca3af;
  }

  .lang-select:focus {
    border-color: #111827;
    box-shadow: 0 0 0 3px rgba(17, 24, 39, 0.1);
  }

  .mobile-lang-select {
    width: 100%;
    margin-bottom: 16px;
    padding: 10px 36px 10px 14px;
    font-size: 14px;
  }
</style>